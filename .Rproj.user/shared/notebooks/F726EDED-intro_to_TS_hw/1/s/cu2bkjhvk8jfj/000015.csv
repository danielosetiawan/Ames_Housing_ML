"0",""
"0","# the q is the order (lags) of the moving average. (3 significant lags)"
"0","# the p is how many steps in the past we consider when estimating the next term (4 significant lags)"
"0",""
"0","d = 0 "
"0",""
"0","for (p in 1:4) {"
"0","  for (q in 1:5) {"
"0","    if (p + d + q <= 9) {"
"0","      model=arima(x=complete_df[,5], "
"0","                  order = c((p-1),d,(q-1)))"
"0","      pval=Box.test(model$residuals, "
"0","                    lag=log(length(model$residuals)))"
"0","      sse=sum(model$residuals**2)"
"0","      cat(p-1,d,q-1, 'AIC=', model$aic, "
"0","          ' SSE=',sse,' p-VALUE=', pval$p.value,'\n')"
"0","    }"
"0","  }"
"0","}"
"1","0"
"1"," "
"1","0"
"1"," "
"1","0"
"1"," "
"1","AIC="
"1"," "
"1","4661.157"
"1"," "
"1"," SSE="
"1"," "
"1","6167.418"
"1"," "
"1"," p-VALUE="
"1"," "
"1","0"
"1"," "
"1","
"
"1","0"
"1"," "
"1","0"
"1"," "
"1","1"
"1"," "
"1","AIC="
"1"," "
"1","4307.459"
"1"," "
"1"," SSE="
"1"," "
"1","4318.961"
"1"," "
"1"," p-VALUE="
"1"," "
"1","0.436337"
"1"," "
"1","
"
"1","0"
"1"," "
"1","0"
"1"," "
"1","2"
"1"," "
"1","AIC="
"1"," "
"1","4309.448"
"1"," "
"1"," SSE="
"1"," "
"1","4318.916"
"1"," "
"1"," p-VALUE="
"1"," "
"1","0.4359864"
"1"," "
"1","
"
"1","0"
"1"," "
"1","0"
"1"," "
"1","3"
"1"," "
"1","AIC="
"1"," "
"1","4306.759"
"1"," "
"1"," SSE="
"1"," "
"1","4298.69"
"1"," "
"1"," p-VALUE="
"1"," "
"1","0.9539978"
"1"," "
"1","
"
"1","0"
"1"," "
"1","0"
"1"," "
"1","4"
"1"," "
"1","AIC="
"1"," "
"1","4307.173"
"1"," "
"1"," SSE="
"1"," "
"1","4291.841"
"1"," "
"1"," p-VALUE="
"1"," "
"1","0.9988914"
"1"," "
"1","
"
"1","1"
"1"," "
"1","0"
"1"," "
"1","0"
"1"," "
"1","AIC="
"1"," "
"1","4452.487"
"1"," "
"1"," SSE="
"1"," "
"1","4994.807"
"1"," "
"1"," p-VALUE="
"1"," "
"1","0"
"1"," "
"1","
"
"1","1"
"1"," "
"1","0"
"1"," "
"1","1"
"1"," "
"1","AIC="
"1"," "
"1","4309.45"
"1"," "
"1"," SSE="
"1"," "
"1","4318.926"
"1"," "
"1"," p-VALUE="
"1"," "
"1","0.4359687"
"1"," "
"1","
"
"1","1"
"1"," "
"1","0"
"1"," "
"1","2"
"1"," "
"1","AIC="
"1"," "
"1","4308.332"
"1"," "
"1"," SSE="
"1"," "
"1","4305.423"
"1"," "
"1"," p-VALUE="
"1"," "
"1","0.8167159"
"1"," "
"1","
"
"1","1"
"1"," "
"1","0"
"1"," "
"1","3"
"1"," "
"1","AIC="
"1"," "
"1","4307.629"
"1"," "
"1"," SSE="
"1"," "
"1","4293.816"
"1"," "
"1"," p-VALUE="
"1"," "
"1","0.9953676"
"1"," "
"1","
"
"2","Warning: possible convergence problem: optim gave code = 1"
"1","1"
"1"," "
"1","0"
"1"," "
"1","4"
"1"," "
"1","AIC="
"1"," "
"1","4306.106"
"1"," "
"1"," SSE="
"1"," "
"1","4278.223"
"1"," "
"1"," p-VALUE="
"1"," "
"1","0.9983476"
"1"," "
"1","
"
"1","2"
"1"," "
"1","0"
"1"," "
"1","0"
"1"," "
"1","AIC="
"1"," "
"1","4340.34"
"1"," "
"1"," SSE="
"1"," "
"1","4454.976"
"1"," "
"1"," p-VALUE="
"1"," "
"1","6.710382e-05"
"1"," "
"1","
"
"1","2"
"1"," "
"1","0"
"1"," "
"1","1"
"1"," "
"1","AIC="
"1"," "
"1","4306.232"
"1"," "
"1"," SSE="
"1"," "
"1","4296.419"
"1"," "
"1"," p-VALUE="
"1"," "
"1","0.9780793"
"1"," "
"1","
"
"1","2"
"1"," "
"1","0"
"1"," "
"1","2"
"1"," "
"1","AIC="
"1"," "
"1","4307.488"
"1"," "
"1"," SSE="
"1"," "
"1","4293.207"
"1"," "
"1"," p-VALUE="
"1"," "
"1","0.99601"
"1"," "
"1","
"
"1","2"
"1"," "
"1","0"
"1"," "
"1","3"
"1"," "
"1","AIC="
"1"," "
"1","4309.487"
"1"," "
"1"," SSE="
"1"," "
"1","4293.201"
"1"," "
"1"," p-VALUE="
"1"," "
"1","0.9959567"
"1"," "
"1","
"
"1","2"
"1"," "
"1","0"
"1"," "
"1","4"
"1"," "
"1","AIC="
"1"," "
"1","4310.951"
"1"," "
"1"," SSE="
"1"," "
"1","4290.876"
"1"," "
"1"," p-VALUE="
"1"," "
"1","0.9997525"
"1"," "
"1","
"
"1","3"
"1"," "
"1","0"
"1"," "
"1","0"
"1"," "
"1","AIC="
"1"," "
"1","4319.302"
"1"," "
"1"," SSE="
"1"," "
"1","4353.211"
"1"," "
"1"," p-VALUE="
"1"," "
"1","0.06731267"
"1"," "
"1","
"
"1","3"
"1"," "
"1","0"
"1"," "
"1","1"
"1"," "
"1","AIC="
"1"," "
"1","4307.401"
"1"," "
"1"," SSE="
"1"," "
"1","4292.823"
"1"," "
"1"," p-VALUE="
"1"," "
"1","0.9971092"
"1"," "
"1","
"
"1","3"
"1"," "
"1","0"
"1"," "
"1","2"
"1"," "
"1","AIC="
"1"," "
"1","4309.485"
"1"," "
"1"," SSE="
"1"," "
"1","4293.192"
"1"," "
"1"," p-VALUE="
"1"," "
"1","0.9958889"
"1"," "
"1","
"
"1","3"
"1"," "
"1","0"
"1"," "
"1","3"
"1"," "
"1","AIC="
"1"," "
"1","4311.485"
"1"," "
"1"," SSE="
"1"," "
"1","4293.193"
"1"," "
"1"," p-VALUE="
"1"," "
"1","0.995884"
"1"," "
"1","
"
"2","Warning: possible convergence problem: optim gave code = 1"
"1","3"
"1"," "
"1","0"
"1"," "
"1","4"
"1"," "
"1","AIC="
"1"," "
"1","4311.168"
"1"," "
"1"," SSE="
"1"," "
"1","4283.164"
"1"," "
"1"," p-VALUE="
"1"," "
"1","0.9999216"
"1"," "
"1","
"
"0","model = arima(complete_df[,5], order = c(1, 0, 4)) # q is 0 because model generated through MA terms"
"2","Warning: possible convergence problem: optim gave code = 1"
"0","model"
"1","
Call:"
"1","
"
"1","arima(x = complete_df[, 5], order = c(1, 0, 4))"
"1","
"
"1",""
"1","
"
"1","Coefficients:
"
"1","    "
"1","      ar1"
"1","     ma1"
"1","     ma2"
"1","      ma3"
"1","      ma4"
"1","  intercept"
"1","
    "
"1","  -0.9254"
"1","  1.5829"
"1","  0.5624"
"1","  -0.1197"
"1","  -0.0832"
"1","     0.0074"
"1","
s.e."
"1","   0.1029"
"1","  0.1108"
"1","  0.0927"
"1","   0.0606"
"1","   0.0320"
"1","     0.0999"
"1","
"
"1","
sigma^2 estimated as "
"1",""
"1","4.278"
"1",""
"1",":  log likelihood = "
"1",""
"1","-2146.05"
"1",""
"1",",  aic = "
"1",""
"1","4306.11"
"1",""
"1","
"
"0","prediction = forecast(model, h = 20, level = 80)"
"0"," # h and level can be anything"
"0",""
"0","autoplot(prediction)"
